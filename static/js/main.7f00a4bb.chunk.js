(this["webpackJsonpmemcrab-tt"]=this["webpackJsonpmemcrab-tt"]||[]).push([[0],{14:function(e,t,a){e.exports=a(29)},19:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(19),a(2)),u=a(4),s=a(1),m=a(7),b=1,i=function(e){for(var t=[],a=0;a<e;a++){var n=Math.floor(900*Math.random()+100);t.push({amount:n,id:b,isPercentsShown:!1,isCloser:!1}),b++}return t},f=function(e){for(var t=[],a=0;a<e[0].length;a++){for(var n=0,r=0;r<e.length;r++)n+=e[r][a].amount;t.push({amount:Math.round(n/e.length),id:b}),b++}return t},_=function(e,t,a){var n=e.flat(),r=n.filter((function(e){return e.id!==t.id}));n.sort((function(e,t){return e.amount-t.amount}));for(var c=[];c.length<a;){for(var o=r[0],l=0;l<r.length;l++)Math.abs(t.amount-r[l].amount)<Math.abs(t.amount-o.amount)&&(o=r[l]);r.splice(r.indexOf(o),1),c.push(o)}return c},E=function(e){return{type:"PERCENTS_TOGGLE",rowIndex:e}},O=function(e){return{type:"SHOW_CLOSEST",target:e}},p=function(e){return e.cells},N=function(e){return e.tableFooter},d={cells:[],tableFooter:[],numberOfClosest:0},h=Object(m.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CELLS":return Object(s.a)(Object(s.a)({},e),{},{cells:t.cells,tableFooter:f(t.cells)});case"ADD_ROW":return Object(s.a)(Object(s.a)({},e),{},{cells:[].concat(Object(u.a)(e.cells),[t.row]),tableFooter:f([].concat(Object(u.a)(e.cells),[t.row]))});case"REMOVE_ROW":var a=e.cells.filter((function(e,a){return a!==t.number}));return Object(s.a)(Object(s.a)({},e),{},{cells:a,tableFooter:f(a)});case"INCREMENT":var n=Object(u.a)(e.cells),r=n[t.rowIndex].find((function(e){return e.id===t.id}));return r&&r.amount++,Object(s.a)(Object(s.a)(Object(s.a)({},e),n),{},{tableFooter:f(n)});case"PERCENTS_TOGGLE":var c=Object(u.a)(e.cells);return c[t.rowIndex]=c[t.rowIndex].map((function(e){return Object(s.a)(Object(s.a)({},e),{},{isPercentsShown:!e.isPercentsShown})})),Object(s.a)(Object(s.a)({},e),{},{cells:c});case"SET_NUMBER_OF_CLOSEST":return Object(s.a)(Object(s.a)({},e),{},{numberOfClosest:t.numberOfClosest});case"SHOW_CLOSEST":var o=_(e.cells,t.target,e.numberOfClosest),l=Object(u.a)(e.cells);return l.forEach((function(e){e.forEach((function(e){o.includes(e)&&(e.isCloser=!e.isCloser)}))})),Object(s.a)(Object(s.a)({},e),{},{cells:l});default:return e}})),j=(a(26),a(27),function(){var e=Object(l.b)(),t=Object(l.c)(p),a=Object(l.c)(N);return r.a.createElement("table",{className:"table"},r.a.createElement("tbody",{className:"table__body"},t.map((function(t,a){return r.a.createElement("tr",{className:"table__row",key:a},r.a.createElement("td",{className:"table__button-wrapper"},r.a.createElement("button",{className:"table__button-remove",onClick:function(){return e({type:"REMOVE_ROW",number:a})}},"Remove row")),t.map((function(n){return r.a.createElement("td",{key:n.id,onClick:function(){return e(function(e,t){return{type:"INCREMENT",id:e,rowIndex:t}}(n.id,a))},onMouseOver:function(){return e(O(n))},onMouseOut:function(){return e(O(n))},className:n.isCloser?"table__cell table__cell-closest":"table__cell"},r.a.createElement("p",{className:"table__text"},n.isPercentsShown?"".concat(Math.round(n.amount/t.reduce((function(e,t){return e+t.amount}),0)*100),"%"):n.amount),r.a.createElement("div",{className:"table__percents",style:n.isPercentsShown?{height:"".concat(Math.round(n.amount/t.reduce((function(e,t){return e+t.amount}),0)*100),"%")}:{height:"0"}}))})),r.a.createElement("td",{className:"table__cell-sum",onMouseOver:function(){return e(E(a))},onMouseOut:function(){return e(E(a))}},t.reduce((function(e,t){return e+t.amount}),0)))}))),r.a.createElement("tfoot",{className:"table__footer"},r.a.createElement("tr",{className:"table__row"},a.map((function(e){return r.a.createElement("td",{key:e.id,className:"table__cell-avarange"},e.amount)})),r.a.createElement("td",{className:"table__button-wrapper"},r.a.createElement("button",{className:"table__button-new",onClick:function(){return e({type:"ADD_ROW",row:i(t[0].length)})}},"add row")))))}),v=a(3),w=(a(28),function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),u=Object(v.a)(o,2),s=u[0],m=u[1],b=Object(n.useState)(""),f=Object(v.a)(b,2),_=f[0],E=f[1],O=Object(n.useState)(!0),p=Object(v.a)(O,2),N=p[0],d=p[1],h=Object(n.useState)(""),j=Object(v.a)(h,2),w=j[0],S=j[1],y=Object(n.useState)(!0),C=Object(v.a)(y,2),g=C[0],M=C[1],x=Object(l.b)(),T=function(e){return!(!e||"number"!==typeof Number(e))};return r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),T(a)&&T(_)?!function(e){if(a&&_)return Number(e)<=Number(a)*Number(_)}(w)?M(!1):(x(function(e){return{type:"SET_CELLS",cells:e}}(function(e,t){for(var a=[],n=0;n<e;n++)a.push(i(t));return a}(Number(a),Number(_)))),x({type:"SET_NUMBER_OF_CLOSEST",numberOfClosest:Number(w)})):(m(!1),d(!1))}},r.a.createElement("h1",null,"Matrix Maker"),r.a.createElement("div",{className:"form__input-wrapper"},r.a.createElement("label",{className:"form__label"},"Number of rows",r.a.createElement("input",{type:"text",name:"rows",className:"form__input",onChange:function(e){return c(e.target.value)}})),r.a.createElement("p",{className:"form__error",style:s?{opacity:"0"}:{opacity:"1"}},"Enter a number of rows")),r.a.createElement("div",{className:"form__input-wrapper"},r.a.createElement("label",{className:"form__label"},"Number of columns",r.a.createElement("input",{type:"text",name:"columns",className:"form__input",onChange:function(e){return E(e.target.value)}})),r.a.createElement("p",{className:"form__error",style:N?{opacity:"0"}:{opacity:"1"}},"Enter a number of columns")),r.a.createElement("div",{className:"form__input-wrapper"},r.a.createElement("label",{className:"form__label"},"Number of closest cells to shown",r.a.createElement("input",{type:"text",id:"closest",className:"form__input",onChange:function(e){return S(e.target.value)}})),r.a.createElement("p",{className:"form__error",style:g?{opacity:"0"}:{opacity:"1"}},"Enter a number of closest cells to shown (min: 1, max: columns * rows)")),r.a.createElement("button",{className:"form__button"},"Make a matrix"))});var S=function(){var e=Object(l.c)(p);return r.a.createElement("div",{className:"App"},r.a.createElement(w,null),e.length?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null))};o.a.render(r.a.createElement(l.a,{store:h},r.a.createElement(S,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7f00a4bb.chunk.js.map